<section class="p-3">

  <div class="container" *ngIf="root.wishlist">
    <div class="card bg-image-full">

      <app-add-wishlist-form *ngIf="editService.isEditing(root.wishlist)" [wishlist]='root.wishlist'
                             (modifiedWishlist)='modifyWishlist($event)'></app-add-wishlist-form>

      <div *ngIf="editService.isNotEditing(root.wishlist)" class="card-body">

        <div class="row">
          <div class="col-10 col-md-6 col-lg-7">
            <h5 class="card-title float-left">{{root.wishlist.title}}</h5>
          </div>

          <div *ngIf="isEditMode()" class="col-2 col-md-2 order-md-12 col-lg-2 order-lg-12">
            <div class="btn-group float-right" role="group">
              <button class="fa fa-pencil btn btn-info" type="button" aria-hidden="true"
                      (click)="editWishlist()"></button>
              <button class="fa fa-trash btn btn-danger" type="button" aria-hidden="true"
                      (click)="root.wishlist.deleteWishlist()"></button>
            </div>
          </div>

          <div class="col-12 col-md-4 col-lg-3">
            <h5 class="badge-gesamtbetrag badge badge-info">Gesamtbetrag {{root.wishlist.sum |
              currency:'EUR':'symbol-narrow'}}</h5>
          </div>
        </div>
      </div>
    </div>

    <app-wish class="card card-wish mt-3" *ngFor="let wish of root.wishlist.wishes" [wish]='wish'
              [adminAccount]="isEditMode()">
    </app-wish>

    <div *ngIf="editService.isNotEditing(newWish) && editService.isNotEditing(wish) && isEditMode()" class="card mt-3 card-new-wish">
      <img class="img-fluid img-add" src="./assets/img/add.png">
      <div class="card-header">
        <p>Hier können Sie der Wunschliste einen neuen Wunsch hinzufügen.</p>
      </div>
      <div class="card-body">
        <input type="text" class="form-control form-control-sm col-sm-12 col-md-6 m-auto" id="description"
               name="description"
               placeholder="Neuen Wunsch anlegen"
               (click)="createNewWish()">
      </div>
    </div>

    <div *ngIf="editService.isEditing(newWish)" class="card mt-3 card-new-wish">
      <img class="img-fluid img-add" src="./assets/img/add.png">
      <div class="card-header">
        <h6>Neuen Wunsch anlegen - Schritt 1 von 2</h6>
      </div>
      <div class="card-body">
        <app-add-wish-form (modifiedWish)='onAddWishFinished($event)'></app-add-wish-form>
      </div>
    </div>

    <div *ngIf="editService.isEditing(wish)" class="card mt-3 card-new-wish">
      <img class="img-fluid img-add" src="./assets/img/add.png">
      <div class="card-header">
        <h6>Neuen Wunsch anlegen - Schritt 2 von 2</h6>
      </div>
      <div class="card-body">
        <app-edit-wish-form [wish]='wish' (modifiedWish)='onEditWishFinished($event)'></app-edit-wish-form>
      </div>
    </div>

    <div class="text-center mt-3">
      <span *ngIf="!wishlistService.editMode">
              <button class="btn btn-info mb-3" (click)="openSharePage()">
        <i class="fa fa-share-alt mr-2"></i>Teile Wunschliste
      </button>
      <button class="btn btn-info mb-3 ml-1" (click)="wishlistService.editMode = true">
        <i class="fa fa-edit mr-2"></i>Wunschliste Bearbeiten
      </button>
      </span>
      <button class="btn btn-info mb-3 ml-1" *ngIf="wishlistService.editMode" (click)="wishlistService.editMode = false">
        <i class="fa fa-save mr-2"></i>Bearbeitung beenden / Weiter
      </button>
    </div>

  </div>
</section>
